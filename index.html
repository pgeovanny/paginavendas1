<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PG Concursos - Dominando o Edital</title>
  <meta name="description" content="Você está mais próximo da sua aprovação." />
  <meta name="theme-color" content="#0b1b44" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <!-- Header -->
  <header class="site-header">
    <div class="container header-inner">
      <a class="brand" href="./">
        <span class="brand-left">PG Concursos</span>
        <span class="brand-divider">×</span>
        <span class="brand-right">Dominando o Edital</span>
      </a>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" aria-labelledby="hero-title">
    <div class="hero-bg" aria-hidden="true"></div>
    <h1 id="hero-title" class="hero-title">
      Você está mais <span class="underline-glow">próximo</span> da sua aprovação.
    </h1>
    <div class="glow-hero" aria-hidden="true"></div>
  </section>

  <!-- Conteúdo -->
  <main class="container" style="padding:2rem 0 3rem">
    <section aria-labelledby="produtos-title">
      <div class="produtos-head">
        <h2 id="produtos-title" class="sec-title">Escolha seu caminho</h2>

        <!-- DROPDOWN FILTRO -->
        <div class="select" data-open="false">
          <button class="select-trigger" id="filter-trigger" aria-haspopup="listbox" aria-expanded="false">
            <span id="filter-label">Materiais</span>
            <svg class="chev" width="16" height="16" viewBox="0 0 24 24" fill="none">
              <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <ul class="select-menu" id="filter-menu" role="listbox" tabindex="-1" aria-label="Selecionar categoria">
            <li class="select-option" role="option" data-value="materiais" aria-selected="true">Materiais</li>
            <li class="select-option" role="option" data-value="mentorias" aria-selected="false">Mentorias</li>
          </ul>
        </div>
      </div>

      <!-- LISTAS -->
      <div id="lista-materiais" class="cards-grid" role="region" aria-label="Lista de Materiais">
        <a class="card-btn" href="./product.html?p=manual">
          <span class="card-title">Manual do Aprovado</span>
          <span class="card-sub">Passo a passo definitivo.</span>
          <span class="card-cta">Ver detalhes</span>
        </a>
        <a class="card-btn" href="./product.html?p=legislacao">
          <span class="card-title">Legislação Interna TJ-SP 2025</span>
          <span class="card-sub">Conteúdo direto e tabelado.</span>
          <span class="card-cta">Ver detalhes</span>
        </a>
      </div>

      <div id="lista-mentorias" class="cards-grid is-hidden" role="region" aria-label="Lista de Mentorias">
        <a class="card-btn" href="./product.html?p=mentoria">
          <span class="card-title">Mentoria</span>
          <span class="card-sub">Planejar e acelerar sua aprovação.</span>
          <span class="card-cta">Ver detalhes</span>
        </a>
      </div>
    </section>
  </main>

  <!-- Rodapé -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <p class="muted">© <span id="year"></span> PG Concursos — Dominando o Edital. Todos os direitos reservados.</p>
    </div>
  </footer>

  <!-- Script inline: ano + filtro -->
  <script>
    // ano rodapé
    (function(){var y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();})();

    // dropdown filtro
    (function () {
      var select = document.querySelector('.select');
      var trigger = document.getElementById('filter-trigger');
      var label = document.getElementById('filter-label');
      var menu = document.getElementById('filter-menu');
      var options = menu.querySelectorAll('.select-option');
      var listMateriais = document.getElementById('lista-materiais');
      var listMentorias = document.getElementById('lista-mentorias');

      function openMenu(){ select.dataset.open='true'; trigger.setAttribute('aria-expanded','true'); menu.focus(); }
      function closeMenu(){ select.dataset.open='false'; trigger.setAttribute('aria-expanded','false'); }
      function setValue(val){
        if(val==='mentorias'){ label.textContent='Mentorias'; listMateriais.classList.add('is-hidden'); listMentorias.classList.remove('is-hidden'); }
        else{ label.textContent='Materiais'; listMateriais.classList.remove('is-hidden'); listMentorias.classList.add('is-hidden'); }
        options.forEach(o=>o.setAttribute('aria-selected', String(o.dataset.value===val)));
      }

      trigger.addEventListener('click', function(e){ e.preventDefault(); (select.dataset.open==='true') ? closeMenu() : openMenu(); });
      options.forEach(function(opt){ opt.addEventListener('click', function(){ setValue(opt.dataset.value); closeMenu(); trigger.focus(); }); });
      document.addEventListener('click', function(e){ if(!select.contains(e.target)) closeMenu(); });
      document.addEventListener('keydown', function(e){ if(e.key==='Escape') closeMenu(); });

      // iniciar por hash
      if (window.location.hash === '#mentorias') setValue('mentorias'); else setValue('materiais');
    })();
  </script>
</body>
</html>
