<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PG Concursos – Dominando o Edital</title>
  <meta name="description" content="PG Concursos – Dominando o Edital. Materiais e mentoria para você acelerar sua aprovação." />
  <meta name="theme-color" content="#0e1f4b" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;800&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
  <!-- Open Graph -->
  <meta property="og:title" content="PG Concursos – Dominando o Edital" />
  <meta property="og:description" content="Materiais e mentoria para concursos com foco total na sua aprovação." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://seu-netlify.app/" />
  <meta property="og:image" content="https://via.placeholder.com/1200x630.png?text=PG+Concursos" />
</head>
<body>
  <a class="skip-link" href="#conteudo">Pular para o conteúdo</a>

  <!-- Header fixo -->
  <header class="site-header" role="banner" aria-label="Cabeçalho">
    <div class="container header-wrap">
      <a class="brand" href="index.html" aria-label="Ir para a página inicial">
        <span class="brand-line brand-pg">PG Concursos</span>
        <span class="brand-x" aria-hidden="true">×</span>
        <span class="brand-line brand-de">Dominando o Edital</span>
      </a>
      <nav class="nav" aria-label="Principal">
        <a class="nav-link" href="#produtos">Produtos</a>
        <a class="nav-link cta-small" href="#produtos">Começar</a>
      </nav>
    </div>
  </header>

  <!-- Hero + Filtro -->
  <main id="conteudo">
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-bg"></div>
      <div class="container">
        <h1 id="hero-title" class="hero-title">
          <span class="spark">Você está mais próximo da sua aprovação.</span>
        </h1>

        <div class="filter-wrap" id="produtos">
          <div class="filter-label">Escolha seu produto:</div>

          <!-- Switch (Materiais / Mentoria) -->
          <div class="filter-switch" role="tablist" aria-label="Filtro de produtos">
            <div class="seg-indicator" aria-hidden="true"></div>

            <button class="seg-pill" role="tab" id="tab-materiais" aria-selected="true" aria-controls="panel-materiais">
              Materiais
            </button>
            <button class="seg-pill" role="tab" id="tab-mentoria" aria-selected="false" aria-controls="panel-mentoria">
              Mentoria
            </button>
          </div>

          <p class="filter-note">Selecione uma categoria para ver as opções disponíveis.</p>

          <!-- Cards (mesma grade; JS apenas oculta/mostra por categoria) -->
          <div class="product-grid" aria-live="polite">
            <!-- Materiais -->
            <a class="product-card" data-cat="materiais" href="product.html?p=manual" role="button" aria-label="Abrir produto Manual do Aprovado">
              <div class="shine"></div>
              <div class="pc-badge">PDF</div>
              <h3 class="pc-title">Manual do Aprovado</h3>
              <p class="pc-sub">O passo a passo definitivo para estudar certo e passar mais rápido.</p>
              <span class="pc-cta">Ver detalhes</span>
            </a>

            <a class="product-card" data-cat="materiais" href="product.html?p=legislacao" role="button" aria-label="Abrir produto Legislação Interna TJ-SP 2025">
              <div class="shine"></div>
              <div class="pc-badge">PDF</div>
              <h3 class="pc-title">Legislação Interna TJ-SP 2025</h3>
              <p class="pc-sub">Conteúdo direto, tabelado e com questões inéditas.</p>
              <span class="pc-cta">Ver detalhes</span>
            </a>

            <!-- Mentoria -->
            <a class="product-card" data-cat="mentoria" href="product.html?p=mentoria" role="button" aria-label="Abrir produto Mentoria">
              <div class="shine"></div>
              <div class="pc-badge">Mentoria</div>
              <h3 class="pc-title">Mentoria</h3>
              <p class="pc-sub">Plano personalizado para acelerar sua aprovação.</p>
              <span class="pc-cta">Ver detalhes</span>
            </a>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Rodapé enxuto -->
  <footer class="site-footer" role="contentinfo">
    <div class="container footer-wrap">
      <small>© <span id="year"></span> PG Concursos — Dominando o Edital. Todos os direitos reservados.</small>
      <div class="footer-links">
        <a href="#" aria-label="Termos de uso">Termos</a>
        <span class="sep">•</span>
        <a href="#" aria-label="Política de privacidade">Privacidade</a>
      </div>
    </div>
  </footer>

  <script>
    // Utilidades
    const $ = (s, el=document) => el.querySelector(s);
    const $$ = (s, el=document) => Array.from(el.querySelectorAll(s));

    // Ano no rodapé
    $('#year').textContent = new Date().getFullYear();

    // Filtro Materiais/Mentoria com acessibilidade e indicador animado
    (function setupFilter(){
      const switchEl = $('.filter-switch');
      const indicator = $('.seg-indicator', switchEl);
      const tabs = $$('.seg-pill', switchEl);
      const cards = $$('.product-grid .product-card');

      // Seleção inicial: Materiais
      let active = tabs[0];
      function positionIndicator(btn){
        const rect = btn.getBoundingClientRect();
        const parentRect = switchEl.getBoundingClientRect();
        const left = rect.left - parentRect.left + 6; // padding do switch
        const width = rect.width;
        indicator.style.transform = `translateX(${left - 6}px)`; // neutralizar padding inicial
        indicator.style.width = `${width}px`;
      }

      function selectTab(btn){
        tabs.forEach(t => t.setAttribute('aria-selected', t === btn ? 'true' : 'false'));
        active = btn;
        positionIndicator(btn);

        const cat = btn.id.includes('mentoria') ? 'mentoria' : 'materiais';
        cards.forEach(card => {
          const isMatch = card.dataset.cat === cat;
          card.classList.toggle('is-hidden', !isMatch);
        });
      }

      // Eventos de clique/teclado
      tabs.forEach(btn => {
        btn.addEventListener('click', () => selectTab(btn));
        btn.addEventListener('keydown', (e) => {
          const idx = tabs.indexOf(active);
          if (e.key === 'ArrowRight' || e.key === 'ArrowLeft') {
            e.preventDefault();
            const next = e.key === 'ArrowRight'
              ? tabs[(idx + 1) % tabs.length]
              : tabs[(idx - 1 + tabs.length) % tabs.length];
            next.focus();
            selectTab(next);
          }
        });
      });

      // Ajuste em resize
      window.addEventListener('resize', () => positionIndicator(active));

      // Estado inicial
      selectTab(active);
    })();
  </script>
</body>
</html>
